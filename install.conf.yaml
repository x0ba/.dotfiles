- defaults:
    link:
      create: true
      relink: true

- clean: ['~', '~/.config']

- link:
    ~/.gitconfig:
    ~/.zshenv:
    ~/.config/zsh/.zshrc: zsh/.zshrc
    ~/.config/zsh/zsh.conf.d: zsh/zsh.conf.d
    ~/.config/zsh/plugins: zsh/plugins
    ~/.config/zsh/.p10k.zsh: zsh/.p10k.zsh
    ~/.config/nvim: nvim
    ~/.config/doom: doom
    ~/.config/ghostty: ghostty
    ~/.gnupg/gpg.conf: gnupg/gpg.conf
    ~/.gnupg/scdaemon.conf: gnupg/scdaemon.conf

- shell:
  - git submodule sync --recursive
  # the following have to run after linking ~/.gitconfig
  - git submodule update
  - >
    git clean -f
    zsh/plugins
